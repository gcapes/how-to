# Github actions

## Local action using Docker

A local github action requires an [`action.yml`](action.yml) (in the root directory of the repo) which shows the tool to be used and its inputs and outputs.

## The [Dockerfile](Dockerfile)

This needs to copy an [`entrypoint.sh`](entrypoint.sh) file to the container and run it using an `ENTRYPOINT` command.  `entrypoint.sh` contains the commands you want to run in the container. This is instead of building the `docker run` command yourself on a command line.

## GitHub workflows

In order to actually run the action, you also need a file in the `.github/workflows/` directory. The name of the file isn't important.

This file details which actions trigger the workflow (e.g. push on a named branch) and which jobs to run. [Example file](rocrate_to_pages.yml)

## Deploying html to github pages

Use this [gh-pages-deploy](https://github.com/JamesIves/github-pages-deploy-action) action to deploy the html generated by the workflow. It will commit changes generated by previous steps to your `gh-pages` branch, and render them.

In brief, this step goes at the end of your workflow. [YouTube tutorial](https://youtu.be/jBZfo2Mj1mY)
